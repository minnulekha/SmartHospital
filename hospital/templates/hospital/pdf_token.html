<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: Helvetica, Arial, sans-serif; color: #333; }
        .header { text-align: center; border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 20px; }
        .h-title { font-size: 24px; color: #007bff; font-weight: bold; margin: 0; }
        .h-sub { font-size: 12px; color: #666; }
        
        .token-box { background-color: #f8f9fa; border: 1px solid #ddd; padding: 15px; text-align: center; margin-bottom: 20px; }
        .token-num { font-size: 40px; font-weight: bold; color: #d32f2f; margin: 0; }
        .token-label { font-size: 14px; text-transform: uppercase; letter-spacing: 2px; }
        
        /* THE TRACKING ID SECTION */
        .track-box { border: 2px dashed #007bff; padding: 10px; text-align: center; background: #e3f2fd; margin-top: 10px; }
        .track-code { font-size: 22px; font-weight: bold; letter-spacing: 3px; font-family: monospace; color: #000; }
        .track-instr { font-size: 10px; color: #555; margin-top: 5px; }

        .details { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .details td { padding: 8px; border-bottom: 1px solid #eee; }
        .label { font-weight: bold; color: #555; width: 40%; }
        
        .footer { margin-top: 30px; text-align: center; font-size: 10px; color: #999; }
    </style>
</head>
<body>

    <div class="header">
        <div class="h-title">SMART HOSPITAL</div>
        <div class="h-sub">Advanced Queue Management System</div>
    </div>

    <div class="token-box">
        <div class="token-label">Your Token Number</div>
        <div class="token-num">#{{ appointment.token_number }}</div>
    </div>

    <div class="track-box">
        <div>TRACKING ID (Use this to login)</div>
        <div class="track-code">{{ appointment.ticket_id }}</div>
        <div class="track-instr">Go to <b>Track My Status</b> and enter this code.</div>
    </div>

    <table class="details">
        <tr>
            <td class="label">Patient Name:</td>
            <td>{{ appointment.patient_name }}</td>
        </tr>
        <tr>
            <td class="label">Doctor:</td>
            <td>Dr. {{ appointment.doctor.user.first_name }} {{ appointment.doctor.user.last_name }}</td>
        </tr>
        <tr>
            <td class="label">Department:</td>
            <td>{{ appointment.doctor.department.name }}</td>
        </tr>
        <tr>
            <td class="label">Est. Wait Time:</td>
            <td>~{{ appointment.doctor.avg_consultation_time }} mins / patient</td>
        </tr>
        <tr>
            <td class="label">Date:</td>
            <td>{{ appointment.booked_at|date:"d M Y, h:i A" }}</td>
        </tr>
    </table>

    <div class="footer">
        Please arrive 15 minutes before your estimated time.<br>
        Show this digital receipt at the reception.
    </div>

</body>
</html>